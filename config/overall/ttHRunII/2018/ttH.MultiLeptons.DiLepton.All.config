###############################################################################
#
# Configuration file for the single top analysis.
#
# Modifications:
###############################################################################
#
#
# Set the debug level: the higher, the more printout
DebugLevel: 10
DebugEvent: 507446216
SaveCuts: 0 # save cuts instead of really applying cuts if 1
DataEra:2018
nLep:2
#
# Mass set to MC value for this study.
# If we are optimizing for some top mass, set that mass here:
TopMass: 172.5
#
# Set the synch type
#               Muon, Ele, Tau, Jet
# All                            40
# Loose           11,  21,  31,  41 
# Fake(Medium)    12,  22,  32,
# Tight           13,  23,
####################################
# HadTop     51 ,
# Event BDT     52 ,
# MC  ########### Mu, Ele, Tau, BJet, CJet, LightJet, Top, W, H, Z, Photon  
# GenOnly         61,  62,  63,   64,   65,            66,  67,68,69,79,    71
SyncType:22
#
# Read in a file listing cuts we want to make (electron channel):
Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.All.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.TriLep.ttZControl.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.TriLep.ttZControlFakes.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.TriLep.SignalRegion.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.TriLep.FakeableRegion.cuts

#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.SignalRegion.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.ttWControl.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.ttWControlFakes.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.ttWControlFlips.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiElectron.SignalRegion.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiMuon.SignalRegion.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.ElectronMuon.SignalRegion.cuts

#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.OppositeCharge.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiElectron.OppositeCharge.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiMuon.OppositeCharge.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.ElectronMuon.OppositeCharge.cuts

#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.FakeableRegion.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiElectron.FakeableRegion.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiMuon.FakeableRegion.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.ElectronMuon.FakeableRegion.cuts

#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.TrainMVA.cuts
#Include.CutsFile: macros/ttH/Mor/config/cuts/TTH.MultiLeptons.DiLepton.LeptonSideBand.cuts

#
#
# Read in a file contains the event list from other syncrhonization group:
#Include.SyncFile: config/weights/ttH2018/syncTree_2lSS_SR_CERNortHqorTLL_select_IHEP_reject.root
#
# Read in a file listing the event weight:
Include.WeightsFile: config/weights/ttH2018/LegacyMC2018Information.weights
#
#
# Read in a file listing the object ID definitions:
Include.ObjectIDFile: macros/ttHRunII/2018/config/objects/ttHObjects.Mor.noshift.config
#
# Output file with topological variables
Topology.SkimFile: topovars.root
#
# Read in mva files
# el
Include.ElectronMVAFile: config/weights/ttH2017/el_BDTG_2017.weights.xml
# mu
Include.MuonMVAFile: config/weights/ttH2017/mu_BDTG_2017.weights.xml
# jet
Include.HjTaggerMVAFile: config/weights/ttH/Hjtagger_legacy_xgboost_v1.weights.xml
# hadTop Algorithm
Include.HadTopMVA.TLLFile: config/weights/ttH/HTT_HadTopTagger_2017_nomasscut_nvar17_resolved.xml
# resTop Algorithm
Include.resTopMVA: config/weights/ttH2018/resTop_xgb_csv_order_deepCTag.xml
# Event BDT
Include.DiLepBDT.ttvFile: config/weights/ttH2018/2lss_ttV_BDTG.weights.xml
Include.DiLepBDT.ttbarFile: config/weights/ttH2018/2lss_ttbar_BDTG.weights.xml
#Include.MultiClass.DNNFile: config/weights/DNN/MultiClass_DNN.weights.xml

# 2D BDT mapping files
Include.2DBDT.MapFile:config/weights/ttH2018/binning_2l.root
Event.2DBDTHistName: hTargetBinning

# Events files 
Include.MCTotEventNumberFile: config/weights/ttH2018/LegacyMC2018Information.weights
#
#
# pile up vtx reweighting 
#Include.pileUpReWeightingFile: config/weights/SingleTopWeights.PileUpReWeight.156.weights
#
# ChargeMis Weight
#Include.ChargeMisFile: config/weights/ttH2018/ElectronChargeMisIdRates_2017.root
Include.ChargeMisFile: config/weights/ttH2018/ElectronChargeMisIdRates_era2018_2019Oct.root
ChargeMis.HistName: eChargeMisIdRates
#
# LeptonFakeRate Weight
Include.LeptonFakeRateFile: config/weights/ttH2018/fr_2018.root
FakeRate.Muon.HistName: FR_mva085_mu_data_comb
FakeRate.Electron.HistName: FR_mva080_el_data_comb_NC
#
#muonID SFs
#Include.MuonIDSFsFile: config/weights/ttH2018/TnP_loose_muon_2018.root
#LeptonID.MuonIDSFHistName: EGamma_SF2D
#
#
#muonISO SFs
#Include.MuonISOSFsFile: config/weights/ttH2018/scaleFactors_mu_DxyDzSip8mIso04_over_LooseID.root
#LeptonID.MuonIsoSFHistName: NUM_ttHLoo_DEN_LooseID
#
#
#muonTk SFs TGraph
#Include.MuonTKSFsFile: config/weights/ttH2018/mu_scaleFactors_trkEff_ptLt10.root
#LeptonID.MuonTKSFGraphName: ratio_eff_eta3_dr030e030_corr
#
#
#muonTrig SFs
Include.MuonTrigSFsFile: config/weights/ttH2018/TnP_loose_muon_2018.root
LeptonID.MuonTrigSFHistName: EGamma_SF2D

# X: abseta Y : pt
#muon LooseToTight SFs 2lss
Include.MuonLooseToTightSFs2lFile: config/weights/ttH2018/looseToTight_2018_m_2lss.root
LeptonID.MuonLooseToTight2lHistName: EGamma_SF2D
# muon loostToTight SF 2lss uncertaintieys
Include.MuonLooseToTight2lUncPtFile: config/weights/ttH2018/SFttbar_2018_muon_pt.root
LeptonID.MuonLooseToTight2lPtHistName: histo_eff_data
Include.MuonLooseToTight2lUncEtaFile: config/weights/ttH2018/SFttbar_2018_muon_eta.root
LeptonID.MuonLooseToTight2lEtaHistName: histo_eff_data

# X: abseta Y : pt
#muon LooseToTight SFs 3l
Include.MuonLooseToTightSFs3lFile: config/weights/ttH2018/looseToTight_2018_m_3l.root
LeptonID.MuonLooseToTight3lHistName: EGamma_SF2D 
#
#electron ID SFs : X:abseta, Y:pt 
Include.EleID_1_FileName: config/weights/ttH2018/TnP_loose_ele_2018.root
LeptonID.EleID_1_HistName: EGamma_SF2D
#LeptonID.EleID_2_HistName: MVAVLooseElectronToMini4
#LeptonID.EleID_3_HistName: MVAVLooseElectronToConvVetoIHit1

Include.EleID_2_FileName: config/weights/ttH2018/TnP_loosettH_ele_2018.root
LeptonID.EleID_2_HistName: EGamma_SF2D
#
#
#electron reco SFs
Include.EleRecoLptFileName: config/weights/ttH2018/el_scaleFactors_gsf.root
LeptonID.EleRecoLptHistName: EGamma_SF2D
Include.EleRecoHptFileName: config/weights/ttH2018/el_scaleFactors_gsf.root
LeptonID.EleRecoHptHistName: EGamma_SF2D
#
# X: abseta Y : pt
#electron LooseToTight SFs 2lss
Include.EleLooseToTightSFs2lFile: config/weights/ttH2018/looseToTight_2018_e_2lss.root
LeptonID.EleLooseToTight2lHistName: EGamma_SF2D
# electron loostToTight SF 2lss uncertaintieys
Include.EleLooseToTight2lUncPtFile: config/weights/ttH2018/SFttbar_2018_ele_pt.root
LeptonID.EleLooseToTight2lPtHistName: histo_eff_data
Include.EleLooseToTight2lUncEtaFile: config/weights/ttH2018/SFttbar_2018_ele_eta.root
LeptonID.EleLooseToTight2lEtaHistName: histo_eff_data

# X: abseta Y : pt
#electron LooseToTight SFs 3l
Include.EleLooseToTightSFs3lFile: config/weights/ttH2018/looseToTight_2018_e_3l.root
LeptonID.EleLooseToTight3lHistName: EGamma_SF2D
#b tag reshaping csv file and tagger name
Include.BTagCSVFile: config/weights/ttH2018/DeepJet_102XSF_V1.csv
BTaggerAlgo:DeepJet
#Include.BTagCSVFile: config/weights/ttH/CSVv2_Moriond17_B_H.csv
#BTaggerAlgo:CSVv2
#
#
#pileup reweighting files
Include.dataPVFile: config/weights/ttH2018/dataPV_2018.root
Include.mcPVFile: config/weights/ttH2018/pileup_legacy18.root
#Include.minBiasUp: config/weights/ttH2018/PileUpUpReweighting2018.root
#Include.minBiasDown: config/weights/ttH2018/PileUpDownReweighting2018.root

#Testing JES up systematic
#Systs.doJESUp: 1

#Testing JES down systematic
#Systs.doJESDown: 1
